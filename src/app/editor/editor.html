<section class="inputarea v-flex gap-16">
  <div class="v-flex">
    <textarea
      id="textarea"
      placeholder="Start typing here... (or paste your text)"
      spellcheck="false"
      class="text-preset-4"
      [class.error]="isOverLimit()"
      [value]="text()"
      (input)="onTextInput($event)"
      (keydown)="onKeydown($event)"
      aria-describedby="textarea-error-label"
    ></textarea>
    <span
      id="textarea-error-label"
      class="textarea__error__label text-preset-4"
      role="alert"
      aria-live="polite"
    >
      @if (isOverLimit()) { Limit reached! Your text exceeds {{ characterLimit() }} characters. }
    </span>
  </div>
  <div class="options__container">
    <form class="toggles__container h-flex text-preset-4">
      <label class="toggles__item" for="whitespace-toggle">
        <input
          id="whitespace-toggle"
          class="toggles__input"
          name="whitespace-toggle"
          type="checkbox"
          [checked]="excludeWhitespace()"
          (change)="onExcludeWhitespaceChange($event)"
        />
        <span class="toggles__checkbox"></span>
        Exclude Spaces
      </label>
      <label class="toggles__item" for="character-limit-toggle">
        <input
          id="character-limit-toggle"
          class="toggles__input"
          name="character-limit-toggle"
          type="checkbox"
          [checked]="useCharacterLimit()"
          (change)="onCharacterLimitToggleChange($event)"
        />
        <span class="toggles__checkbox"></span>
        Set Character Limit
      </label>
      <input
        aria-label="Character limit value"
        id="character-limit-input"
        class="character__limit__input text-preset-4"
        type="number"
        min="1"
        [style.visibility]="useCharacterLimit() ? 'visible' : 'hidden'"
        [value]="characterLimit()"
        (input)="onCharacterLimitInput($event)"
      />
    </form>
    <p class="text-preset-4">
      Approx. reading time:
      <span id="read-time-display">{{ readTime() }}</span>
    </p>
  </div>
</section>
